\documentclass[oneside,onecolumn,12pt,a4paper,openany]{book}
\usepackage{anuthesis}

\setlength{\textwidth}{165mm}      % wider text block
\setlength{\oddsidemargin}{4.6mm}  % gives 30 mm left margin
\setlength{\evensidemargin}{4.6mm} 
\setstretch{1.03}
\setlength{\parskip}{0pt plus 0.5pt}

\AtBeginDocument{%
  \abovedisplayskip=10pt
  \belowdisplayskip=10pt
  \abovedisplayshortskip=6pt
  \belowdisplayshortskip=6pt
}

\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{amsmath}	% Advanced maths commands
\usepackage{amssymb}	% Extra maths symbols
\usepackage{amsfonts}
\usepackage{stmaryrd}  %\llbracket, \rrbracket
\usepackage{amscd}
\usepackage{physics}
\usepackage{rotating} % Rotating table
\usepackage[toc,page]{appendix}
\usepackage[parfill]{parskip}
\usepackage{textcomp} % for names like O{\textquotesingle}Shea in .bbl file
%\usepackage{footnote}
\usepackage{changepage} % to adjust page width for fat tables
%\usepackage{titlepic}
\usepackage{setspace}
\usepackage{changepage}
\usepackage[colorlinks=true, linkcolor=black, urlcolor=black, citecolor=black, breaklinks=true] {hyperref}
\usepackage{rotating}
\usepackage{longtable}
\usepackage[numbers,sort&compress]{natbib}
\usepackage[flushleft]{threeparttable}
\usepackage{threeparttablex}
\usepackage{multirow}
\usepackage{bbding}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{tcolorbox}
\usepackage{paracol}
\usepackage{adjustbox}
\usepackage{siunitx}

\usepackage{cleveref}
\crefformat{footnote}{#2\footnotemark[#1]#3}
\usepackage{sidecap}
 \renewcommand{\bottomfraction}{0.7}

\newcommand{\thesistitle}{\textbf{Refactoring and Equivalence in Rust}}
\newcommand{\thesistitletwo}{\textbf{Expanding the REM toolchain}}
\newcommand{\thesistitlethree}{\textbf{And Providing a Novel Approach to Automated Equivalence Proofs}}
\newcommand{\fullname}{Matthew Britton}
\newcommand{\shortname}{M. Britton}
\newcommand{\thesissubjects}{Rust, Refactoring, Verification}
\newcommand{\thesisdate}{November 2025}
\newcommand{\fullthesisdate}{\today}
\newcommand{\resubmissiondate}{\today}
\newcommand{\thesisyear}{2025}

\def\TODO#1{{\color{red}{\bf [TODO:} {\it{#1}}{\bf ]}}}

%%%%%% AUTHORS - PLACE YOUR OWN PACKAGES HERE %%%%%

\usepackage{color}
\usepackage[normalem]{ulem}
\usepackage[dvipsnames]{xcolor}
% \usepackage{xcolor}
\usepackage[a4paper, left=1.2in, right=0.8in, top=1in, bottom=1in]{geometry}
\usepackage{tikz}
\usetikzlibrary{positioning,arrows.meta}
\usepackage{wrapfig}
\usepackage{subcaption}
\usepackage[absolute,overlay]{textpos}
\usepackage{enumitem}   

\newlist{compactdesc}{description}{1}
\setlist[compactdesc]{%
  labelindent=0pt,
  leftmargin=0pt,
  labelsep=0.5em,
  itemsep=0pt,
  topsep=0pt,
  partopsep=0pt,
  parsep=0pt,
  style=nextline
}

\usepackage{longtable} 

\usepackage[newfloat]{minted}
\usepackage{minted}
\setminted{
	fontsize=\small,
	linenos,
	frame=lines,
	baselinestretch=0.8,
}

% These are autoref macros
\def\chapterautorefname{Chapter}
\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}
\def\subsubsectionautorefname{Section}
\def\figureautorefname{Figure}
\def\tableautorefname{Table}
\def\equationautorefname{equation}

% i.e. -- e.g. -- etc. -- et. al.
\newcommand{\eg}{{\em e.g.,}}
\newcommand{\ie}{{\em i.e.,}}
\newcommand{\etc}{{\em etc.}}
\newcommand{\etal}{{\em et al.}}
\newcommand{\cf}{{\em cf.}}

% There are editing macros
\newcommand{\red}[1]{{\textcolor{red}{#1}}}
\newcommand{\blue}[1]{{\textcolor{blue}{#1}}}
\newcommand{\cyan}[1]{{\textcolor{cyan}{#1}}}
\newcommand{\cut}[1]{{\red{\sout{#1}}}}
\newcommand{\add}[1]{{\cyan{#1}}}

% Autoref macros
\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}
\def\subsubsectionautorefname{Section}
\def\figureautorefname{Figure}
\def\tableautorefname{Table}
\def\equationautorefname{equation}
\newcommand{\aref}[1]{\hyperref[#1]{Appendix~\ref{#1}}}

% Only include extra packages if you really need them. Common packages are:
\usepackage{caption}
\usepackage{subcaption}
\captionsetup{compatibility=false} %https://tex.stackexchange.com/questions/31906/subcaption-package-compatibility-issue
\captionsetup[table]{justification=centering}

\usepackage{multicol}        % Multi-column entries in tables
\usepackage{bm}		% Bold maths symbols, including upright Greek
\usepackage{booktabs} %to include pandas latex tables
\usepackage{ifpdf} %to fix issues while compiling on arxiv
\usepackage{float}
\usepackage{pdflscape}	% Landscape pages
\usepackage{epigraph} % for quotes
\usepackage[table,xcdraw]{xcolor} % for colored tables

\usepackage{pifont}
\newcommand{\cmark}{\ding{51}} % ✔
\newcommand{\xmark}{\ding{55}} % ✘

\makeatletter
\newcommand{\currentsubfigletter}{\alph{subfigure}}
\makeatother

\newcommand{\sublistingcaption}[1]{%
  \caption{#1}%
  % Add to List of Listings using Figure.Subfigure format
  \addcontentsline{lol}{listing}{\protect\numberline{\thefigure.\currentsubfigletter}#1}%
}
%%%%%%%%%%%%%%%%%%%% DEFINE PAPER ALIASES  HERE %%%%%%%%%%%%%%%%%%%

\onehalfspacing


\begin{document}

% Create the table of listings and define a custom caption
% \renewcommand{\listingscaption}{Code}
\renewcommand{\listoflistingscaption}{List of Code Listings}
\renewcommand{\arraystretch}{0.9}


\newtcbox{\icodebox}{on line,
  boxrule=0pt,
  colback=gray!15,
  arc=2pt,
  boxsep=1pt,
  left=1pt, right=1pt, top=1pt, bottom=1pt,
}

\newcommand{\icodeverb}[1]{%
  \icodebox{%
    \raisebox{-.2ex}{\Verb|#1|}%
    \vphantom{Ay} % ensures consistent height/depth
  }%
}


% epigraph settings, for quotes at the start of introduction and conclusions
\setlength{\epigraphwidth}{12cm}
\setlength{\afterepigraphskip}{1.5cm}
\renewcommand{\epigraphsize}{\small}
\renewcommand{\epigraphrule}{1pt}
\renewcommand{\epigraphflush}{flushright}
%\renewcommand{\textflush}{flushleft}
% \citestyle{aa}
\pagestyle{empty}

%
%%% TITLE PAGE:
\pagenumbering{roman}  % first use Roman numerals for page numbers

\begin{titlepage}
	\begin{center}
		\vspace*{0cm}
		{ \fontsize{20}{10} \selectfont \thesistitle} \\
		\vspace{0.3cm}
		{ \fontsize{20}{10} \selectfont \thesistitletwo} \\
            \vspace{0.3cm}
		{ \fontsize{20}{10} \selectfont \thesistitlethree}

		\vspace{1.5cm}
		{\bf \LARGE \fullname}\\
        \vspace{0.5cm}
        {\large Supervised by:}\\
        {\large Associate Professor Alex Potanin}\\
        {\large and} \\
        {\large Mr Sasha Pak (PhD Candidate)}\\
		\vspace{1.5cm}
		{\large A Research and Development report submitted as part of }\\
		\vspace{0.5cm}
		{\large ENGN3712: Engineering Research and Development Project}\\
		\vspace{0.5cm}
		{\large The Australian National University}\\
		\vspace{0.5cm}
		{ \large Research School of Computing, School of Engineering} \par
		\vspace{1.5cm}
		\includegraphics[width=0.4\textwidth]{anu-logo-colour.pdf}\\
		\vspace{1.5cm}
		{\large \thesisdate}
		\vspace{1cm}
		{\large  \textcopyright\ Copyright by \fullname,  \thesisyear \\}
		\vspace{0.5cm}
		{\large All Rights Reserved}
    		%\maketitle
	\end{center}
\end{titlepage}

\sloppy

\setlength{\parindent}{0pt}
\setlength{\parskip}{1ex plus 0.5ex minus 0.2ex}


% PREFACE TO ELECTRONIC COPY
% remember to change bib style file to "astroads" for the PDF copy
%%% COMMENT THIS OUT FOR THE PRINT COPY
%\setcounter{page}{0}
%\phantomsection\addcontentsline{toc}{section}{Notes on the digital copy}
%\setlength\fboxsep{3mm}
%\setlength\fboxrule{1pt}
%\begin{center}
%\framebox{\huge{\textsc{Notes on the Digital Copy}}}
%\end{center}
%\vspace{5mm}
%This document makes extensive use of the hyperlinking features of \LaTeX. References to figures, tables, sections, chapters and the literature can be navigated from within the PDF by clicking on the reference. Internet addresses will be displayed in a browser.
%
%%Most object names are resolvable in the SIMBAD (\myurl{http://simbad.u-strasbg.fr/simbad/}) astronomical database. Click on an \object[NAME ETA CHA CLUSTER]{object} to be taken to its SIMBAD entry.
%
%The bibliography at the end of this thesis has been hyperlinked to the NASA Astrophysics Data Service (\myurl{http://www.adsabs.harvard.edu/}). Further information on each of the cited works is available through the link to ADS.
%
%\textbf{This page can be easily removed from the print copy\dots}

%%% END

%
%%% FRONT CONTENT:
%
% page numbering as roman numerals
% don't indent paragraphs
% increase the amount of space between paragraphs
\pagestyle{plain}
\pagenumbering{roman}
%
% disclaimer
%
% I don't like things showing up in the contents BEFORE the contents
% page itself, but you may wish to uncomment these lines.
%
%\phantomsection\addcontentsline{toc}{section}{Disclaimer}
\include{disclaimer}
%
% acknowledgements
% \phantomsection\addcontentsline{toc}{section}{Acknowledgments}
%\cleardoublepage
\include{acknowledgements}
%
% abstract
%\phantomsection\addcontentsline{toc}{section}{Abstract}
%\cleardoublepage
\include{abstract}
%
% table of contents, figures and tables
\setcounter{tocdepth}{1} % limit TOC to sections, i.e. 1.2, not the default 1.2.1
\phantomsection\addcontentsline{toc}{section}{Contents}
\tableofcontents
\phantomsection\addcontentsline{toc}{section}{List of Figures}
\listoffigures
\phantomsection\addcontentsline{toc}{section}{List of Tables}
\listoftables\cleardoublepage

% Table of code listings
\cleardoublepage
\phantomsection
\addcontentsline{toc}{section}{\listoflistingscaption} % include in ToC
\listoflistings
\cleardoublepage

% Glossary Table
\phantomsection\addcontentsline{toc}{section}{Glossary}
\input{glossary.tex}

%%% MAIN CONTENT:
%
% page numbering as numbers for content of thesis
\cleardoublepage
\pagenumbering{arabic}
\pagestyle{fancy}
\fancyhead[LO]{\nouppercase{\rightmark}}
\fancyhead[RE]{\nouppercase{\leftmark}}
\fancyhead[LE]{\thepage}
\fancyhead[RO]{\thepage}
\fancyfoot{}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}

%%%%%%%%%%%%%%%%%% MAIN CONTENT %%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
\input{0_Introduction/introduction}
\input{1_Chapter1/body}
\input{2_Chapter2/body}
\input{3_Chapter3/body}
\input{4_Chapter4/body}
\input{5_Conclusions/conclusions}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% BACK CONTENT:
%
% \cleardoublepage
% for back matter, plain page style with no head/foot rules
%\pagestyle{plain}

% appendices
% \phantomsection
% \appendix
\include{6_appendices/appendix_main}

% bibliography
\cleardoublepage
\phantomsection\addcontentsline{toc}{chapter}{Bibliography}
% change bib style to 'apj' to remove the ADS links in the printed version
\bibliographystyle{unsrtnat}
\bibliography{bibfile}

\end{document}
